#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
@author: Tobias Hunger <tobias.hunger@gmail.com>
"""

if __name__ != '__main__':
    print('This file can not be imported.')
    exit(1)

from argparse import ArgumentParser

import cleanroom.printer as Printer
import sys

def parse_commandline(arguments):
    '''This function parses the command line options.
    '''
    parser = ArgumentParser(description='Cleanroom OS image script generator',
                            prog=arguments[0])
    parser.add_argument('--debug', dest='debug', action='store_true',
                        help='Show debug information')
    parser.add_argument('--verbose', dest='verbose', action='store_true',
                        help='Be verbose')

    parser.add_argument('--workdir', dest='work_dir', action='store',
                        help='Work area to create files in')

    parser.add_argument(dest='systems', action='append', nargs='+',
                        metavar='<system>', help='systems to create')

    parse_result = parser.parse_args(arguments[1:])

    return parse_result

args = parse_commandline(sys.argv)

pr = Printer.Printer(args.verbose, args.debug)

pr.verbose('Verbose output enabled.')
pr.debug('Debug output enabled.')

pr.print(args.systems)
